{%  extends 'base.html.twig' %}

{%  block body %}
    <h1 class="m-5">Gestion catégories</h1>
    <a href="{{ path('app_admin_category_edit') }}"
       class ="btn btn-outline-info mb-3">
        Ajouter une catégorie
    </a>

    <table class="table table-striped">
        <tr>
            <th>Id</th>
            <th>Nom</th>
            <th>Logo</th>
            <th>Nb d'annonces</th>

            <th width="250px"></th>
        </tr>
        {% for category in categories %}
            <tr>
                <td>{{ category.id }}</td>
                <td>{{ category.name }}</td>
                <td>
                    <img src=" {{ asset('images/' ~ category.logo) }}" style="width: 50px">
                </td>

                <td>
{#                   <a href="{{ path('app_admin_post_index', {"id": category.id}) }}">#}
                        {# compteur d'annonces par catégorie
                        {{ category.posts|length }}
                    </a>#}
                </td>
                <td>
                    <a href="{{ path('app_admin_category_edit', {"id": category.id}) }} "
                       class ="btn btn-info mb-3">
                        Modifier
                    </a>
                    <a href="{{ path('app_admin_category_delete', {"id": category.id}) }}"
                       class ="btn btn-dark mb-3">
                        Supprimer
                    </a>
                </td>
            </tr>
        {% endfor %}
    </table>


{%  endblock %}